<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-adsense-account" content="ca-pub-6124600354172819" />
    <title>VoiceBridge ‚Äì Real-Time Voice Translator</title>
    <meta
      name="description"
      content="VoiceBridge enables seamless real-time voice translation across multiple languages including Telugu, Hindi, and English."
    />
    <meta
      name="keywords"
      content="voice translator, real-time translation, Telugu to Hindi translator, multilingual voice app"
    />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Social Media -->
    <meta
      property="og:title"
      content="VoiceBridge ‚Äì Real-Time Voice Translator"
    />
    <meta
      property="og:description"
      content="Experience seamless real-time voice translation with VoiceBridge."
    />
    <meta
      property="og:url"
      content="https://live-translation-app.vercel.app/"
    />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="VoiceBridge" />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé§</text></svg>"
    />

    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6124600354172819"
      crossorigin="anonymous"
    ></script>

    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
    />
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
        scroll-behavior: smooth;
      }
      html {
        scroll-behavior: smooth;
      }
      .container {
        max-width: 600px;
      }
      .mic-button {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background-color: #4285f4;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 10px rgba(66, 133, 244, 0.3);
      }
      .mic-button:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 20px rgba(66, 133, 244, 0.3);
      }
      .mic-button:active {
        background-color: #ff5252;
        transform: scale(0.95);
      }
      .mic-button.recording {
        background-color: #ff5252;
        transform: scale(1.05);
        box-shadow: 0 4px 20px rgba(255, 82, 82, 0.4);
      }
      .mic-button.disabled {
        background-color: #c4c4c4;
        cursor: not-allowed;
      }
      .mic-icon {
        width: 50px;
        height: 60px;
      }
      .language-selector {
        border: 1px solid #e0e0e0;
        border-radius: 25px;
        padding: 12px 20px;
        background-color: white;
        width: 140px;
        text-align: center;
        font-weight: 600;
        color: #172b4d;
        position: relative;
        cursor: pointer;
      }
      @media (max-width: 640px) {
        .language-selector {
          width: 120px;
          padding: 10px 15px;
          font-size: 14px;
        }
        .mic-button {
          width: 100px;
          height: 100px;
        }
        .mic-icon {
          width: 40px;
          height: 50px;
        }
      }
      .language-selector::after {
        content: "\f078";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 12px;
      }
      .translate-arrow {
        color: #c4c4c4;
        font-size: 24px;
      }
      .transcript-box {
        border: 1px solid #e0e0e0;
        border-radius: 15px;
        padding: 20px;
        background-color: white;
        min-height: 100px;
        width: 100%;
        margin: 15px 0;
      }
      .play-button {
        border-radius: 30px;
        background-color: #4285f4;
        color: white;
        padding: 12px 25px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: all 0.2s ease;
      }
      .play-button:hover {
        background-color: #3367d6;
      }
      .play-button.disabled {
        background-color: #c4c4c4;
        cursor: not-allowed;
      }
      .history-item {
        border-radius: 10px;
        background-color: white;
        padding: 15px;
        margin-bottom: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }
      .pulse-animation {
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      .recording-dot {
        width: 12px;
        height: 12px;
        background-color: #f44336;
        border-radius: 50%;
        display: inline-block;
        margin-right: 5px;
      }
      .loading-spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #3498db;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
        display: inline-block;
        margin-right: 10px;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      .error-message {
        color: #f44336;
        margin-top: 5px;
      }
      .footer {
        text-align: center;
        padding: 15px 0;
        font-size: 14px;
        color: #666;
        margin-top: 30px;
        border-top: 1px solid #eee;
      }
      .push-to-talk-hint {
        text-align: center;
        margin-top: 5px;
        font-size: 14px;
        color: #666;
      }
      .view-history-button {
        border-radius: 30px;
        background-color: #34a853;
        color: white;
        padding: 10px 20px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .view-history-button:hover {
        background-color: #2e9549;
      }
      .clear-history-button {
        border-radius: 30px;
        background-color: #ea4335;
        color: white;
        padding: 8px 16px;
        font-weight: 600;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
        margin-left: 10px;
      }
      .clear-history-button:hover {
        background-color: #d33426;
      }
      .history-modal {
        max-height: 70vh;
        overflow-y: auto;
      }
      .history-date-group {
        border-bottom: 1px solid #eee;
        margin-bottom: 15px;
        padding-bottom: 10px;
      }
      .history-date-label {
        font-weight: 600;
        color: #4285f4;
        margin-bottom: 10px;
      }
      .nav-menu {
        display: flex;
        justify-content: center;
        padding: 10px 0;
        margin-bottom: 15px;
        gap: 15px;
        flex-wrap: wrap;
        position: sticky;
        top: 0;
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(5px);
        z-index: 10;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        border-radius: 0 0 15px 15px;
        padding: 15px 0;
      }
      .nav-link {
        color: #4285f4;
        text-decoration: none;
        padding: 5px 10px;
        border-radius: 15px;
        transition: all 0.2s ease;
      }
      .nav-link:hover {
        background-color: #e8f0fe;
      }
      .nav-link.active {
        font-weight: 600;
        background-color: #e8f0fe;
      }
      .about-section,
      .privacy-section,
      .contact-section {
        border: 1px solid #e0e0e0;
        border-radius: 15px;
        padding: 20px;
        background-color: white;
        margin: 15px 0;
        display: none;
      }
      .visible-section {
        display: block;
      }
      .app-section {
        display: block;
      }
      .content-heading {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 15px;
        color: #4285f4;
      }
      .content-text {
        margin-bottom: 15px;
        line-height: 1.6;
      }
      .email-link {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        color: #666;
        margin-top: 10px;
        font-size: 14px;
        transition: all 0.2s ease;
      }
      .email-link:hover {
        color: #4285f4;
      }
      .section-transition {
        transition: all 0.4s ease-in-out;
      }
    </style>

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "VoiceBridge",
        "description": "Real-time voice translation app that supports multiple languages including Telugu, Hindi, English, and more",
        "applicationCategory": "CommunicationApplication",
        "operatingSystem": "Web",
        "author": {
          "@type": "Person",
          "name": "Suraj Mandal",
          "email": "mandalsuraj048@gmail.com"
        },
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "availableLanguage": [
          "Telugu",
          "Hindi",
          "English",
          "Tamil",
          "Kannada",
          "French",
          "Spanish",
          "German",
          "Japanese",
          "Chinese"
        ]
      }
    </script>
  </head>
  <body class="py-6">
    <div class="container mx-auto px-4">
      <!-- Header -->
      <h1
        class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-6 md:mb-6"
        data-aos="fade-down"
      >
        VoiceBridge
      </h1>

      <!-- Navigation Menu -->
      <div class="nav-menu" data-aos="fade" data-aos-delay="200">
        <a href="#app" class="nav-link active" data-section="app-section"
          ><i class="fas fa-language mr-1"></i> Translator</a
        >
        <a href="#about" class="nav-link" data-section="about-section"
          ><i class="fas fa-info-circle mr-1"></i> About</a
        >
        <a href="#privacy" class="nav-link" data-section="privacy-section"
          ><i class="fas fa-shield-alt mr-1"></i> Privacy</a
        >
        <a href="#contact" class="nav-link" data-section="contact-section"
          ><i class="fas fa-envelope mr-1"></i> Contact</a
        >
      </div>

      <!-- Main App Section -->
      <div
        id="app-section"
        class="app-section visible-section section-transition"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <!-- Google AdSense Ad Unit -->
        <div class="mb-8 text-center">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6124600354172819"
            crossorigin="anonymous"
          ></script>
          <!-- Example ad -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-6124600354172819"
            data-ad-slot="9834598735"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>

        <!-- Language Selector -->
        <div
          class="flex justify-center items-center mb-6 md:mb-8 gap-2 md:gap-4"
        >
          <div class="language-selector" id="sourceLanguage">Telugu</div>
          <div class="translate-arrow">
            <i class="fas fa-arrow-right"></i>
          </div>
          <div class="language-selector" id="targetLanguage">Hindi</div>
        </div>

        <!-- Microphone Button -->
        <div class="flex justify-center mb-4">
          <div class="mic-button" id="micButton">
            <svg
              class="mic-icon"
              fill="white"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"
              />
              <path
                d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"
              />
            </svg>
          </div>
        </div>

        <!-- Push-to-talk hint -->
        <p class="push-to-talk-hint mb-4">Press and hold to speak</p>

        <!-- Live Transcription Box -->
        <div class="transcript-box mb-4" id="transcriptionBox">
          <div id="recordingIndicator" class="hidden items-center mb-2">
            <span class="recording-dot pulse-animation"></span>
            <span class="text-sm text-red-600">Recording...</span>
          </div>
          <div id="translatingIndicator" class="hidden items-center mb-2">
            <span class="loading-spinner"></span>
            <span class="text-sm text-blue-600">Translating...</span>
          </div>
          <p id="transcriptionText" class="text-gray-700">
            Press and hold the microphone button to speak
          </p>
          <p
            id="translationText"
            class="text-gray-900 font-medium mt-4 hidden"
          ></p>
          <p id="errorText" class="error-message hidden"></p>
        </div>

        <!-- Play Translation Button -->
        <div class="flex justify-center mb-6">
          <button class="play-button disabled" id="playButton" disabled>
            <i class="fas fa-volume-up"></i>
            Play Translation
          </button>
        </div>

        <!-- Translation History -->
        <div class="mt-8">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-gray-700">
              Recent Translations
            </h2>
            <button class="view-history-button" id="viewHistoryButton">
              <i class="fas fa-history"></i>
              View All History
            </button>
          </div>
          <div id="historyContainer">
            <!-- History items will be added here -->
          </div>
        </div>

        <!-- Language Selection Modal -->
        <div
          id="languageModal"
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50"
        >
          <div
            class="bg-white rounded-lg p-4 md:p-6 w-72 md:w-80 max-h-96 overflow-y-auto"
          >
            <h3 class="text-lg font-semibold mb-4">Select Language</h3>
            <div class="space-y-2 mb-4" id="languageOptionsList">
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Telugu
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Hindi
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                English
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Tamil
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Kannada
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                French
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Spanish
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                German
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Japanese
              </div>
              <div
                class="p-2 hover:bg-gray-100 rounded cursor-pointer language-option"
              >
                Chinese
              </div>
            </div>
            <div class="flex justify-end">
              <button id="closeModal" class="px-4 py-2 bg-gray-200 rounded">
                Cancel
              </button>
            </div>
          </div>
        </div>

        <!-- History Modal -->
        <div
          id="historyModal"
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50"
        >
          <div
            class="bg-white rounded-lg p-4 md:p-6 w-11/12 md:w-3/4 lg:w-2/3 history-modal"
          >
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-lg font-semibold">Translation History</h3>
              <div>
                <button id="clearHistoryButton" class="clear-history-button">
                  <i class="fas fa-trash-alt"></i> Clear All
                </button>
                <button
                  id="closeHistoryModal"
                  class="ml-2 px-4 py-2 bg-gray-200 rounded"
                >
                  Close
                </button>
              </div>
            </div>
            <div id="fullHistoryContainer">
              <!-- All history items will be loaded here -->
            </div>
          </div>
        </div>

        <!-- Google AdSense Ad Unit (Bottom) -->
        <div class="mt-10 mb-6 text-center">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6124600354172819"
            crossorigin="anonymous"
          ></script>
          <!-- Example ad -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-6124600354172819"
            data-ad-slot="9834598735"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>

      <!-- About Section -->
      <div id="about-section" class="about-section section-transition">
        <h2 class="content-heading" data-aos="fade-up">About VoiceBridge</h2>
        <p class="content-text" data-aos="fade-up" data-aos-delay="100">
          VoiceBridge is a real-time voice translation tool designed to break
          down language barriers and facilitate communication across different
          languages. Our mission is to make global communication seamless and
          accessible to everyone.
        </p>
        <p class="content-text" data-aos="fade-up" data-aos-delay="150">
          With support for 10 languages including Telugu, Hindi, English, Tamil,
          Kannada, French, Spanish, German, Japanese, and Chinese, VoiceBridge
          helps you connect with people around the world without language
          limitations.
        </p>

        <div data-aos="fade-up" data-aos-delay="200">
          <h3 class="text-xl font-semibold mb-3 mt-6">About The Developer</h3>
          <p class="content-text">
            Hi, I'm Suraj Mandal, a passionate developer based in Janakpurdham,
            Nepal. I created VoiceBridge to help break language barriers and
            make communication more accessible to everyone around the world.
          </p>
          <p class="content-text">
            Feel free to reach out to me at
            <a
              href="mailto:mandalsuraj048@gmail.com"
              class="text-blue-500 hover:underline"
              >mandalsuraj048@gmail.com</a
            >
            for any questions, suggestions, or collaboration opportunities.
          </p>
        </div>

        <h3
          class="text-xl font-semibold mb-3 mt-6"
          data-aos="fade-up"
          data-aos-delay="250"
        >
          How It Works
        </h3>
        <ol
          class="list-decimal pl-5 mb-6 space-y-2"
          data-aos="fade-up"
          data-aos-delay="300"
        >
          <li>
            Select your source and target languages from the dropdown menus
          </li>
          <li>
            Press and hold the microphone button to speak in your language
          </li>
          <li>Release the button when you're done speaking</li>
          <li>
            VoiceBridge will automatically transcribe and translate your speech
          </li>
          <li>
            Press the "Play Translation" button to hear the translation spoken
            aloud
          </li>
          <li>
            All your translations are saved in history for future reference
          </li>
        </ol>
        <h3 class="text-xl font-semibold mb-3">Common Use Cases</h3>
        <ul class="list-disc pl-5 mb-6 space-y-2">
          <li>Travel to foreign countries without language barriers</li>
          <li>Business meetings with international clients or partners</li>
          <li>Learning new languages with proper pronunciation</li>
          <li>
            Communicating with family members who speak different languages
          </li>
          <li>
            Educational settings for language classes and cultural exchange
          </li>
        </ul>
      </div>

      <!-- Privacy Policy Section -->
      <div id="privacy-section" class="privacy-section">
        <h2 class="content-heading">Privacy Policy</h2>
        <p class="content-text">Last updated: March 2024</p>
        <p class="content-text">
          At VoiceBridge, we take your privacy seriously. This Privacy Policy
          explains how we collect, use, and protect your information when you
          use our voice translation service.
        </p>
        <h3 class="text-lg font-semibold mb-2 mt-4">Information We Collect</h3>
        <p class="content-text">
          When you use VoiceBridge, we may collect the following types of
          information:
        </p>
        <ul class="list-disc pl-5 mb-4">
          <li>
            Audio recordings of your voice while using the translation feature
          </li>
          <li>Text transcriptions and translations of your speech</li>
          <li>Language preferences</li>
          <li>Translation history (stored locally on your device)</li>
          <li>Usage data such as features used and time spent on the app</li>
        </ul>
        <h3 class="text-lg font-semibold mb-2">How We Use Your Information</h3>
        <p class="content-text">We use the information we collect to:</p>
        <ul class="list-disc pl-5 mb-4">
          <li>Provide and maintain our translation service</li>
          <li>Improve and optimize the user experience</li>
          <li>Analyze usage patterns to enhance our features</li>
          <li>Store your translation history for your convenience</li>
        </ul>
        <h3 class="text-lg font-semibold mb-2">Data Storage</h3>
        <p class="content-text">
          Your translation history is stored locally in your browser's local
          storage. This data remains on your device and is not transmitted to
          our servers. You can clear this data at any time using the "Clear All"
          button in the history section.
        </p>
        <h3 class="text-lg font-semibold mb-2">Third-Party Services</h3>
        <p class="content-text">We use the following third-party services:</p>
        <ul class="list-disc pl-5 mb-4">
          <li>Web Speech API for speech recognition</li>
          <li>Various translation APIs to process your translations</li>
          <li>Google AdSense to display advertisements</li>
        </ul>
        <h3 class="text-lg font-semibold mb-2">Advertising</h3>
        <p class="content-text">
          We use Google AdSense to show advertisements on VoiceBridge. Google
          AdSense may use cookies and similar technologies to serve ads based on
          your prior visits to our website or other websites. You can opt out of
          personalized advertising by visiting
          <a
            href="https://www.google.com/settings/ads"
            class="text-blue-500 hover:underline"
            target="_blank"
            >Google Ads Settings</a
          >.
        </p>
        <h3 class="text-lg font-semibold mb-2">Changes to This Policy</h3>
        <p class="content-text">
          We may update our Privacy Policy from time to time. We will notify you
          of any changes by posting the new Privacy Policy on this page.
        </p>
        <h3 class="text-lg font-semibold mb-2">Contact Us</h3>
        <p class="content-text">
          If you have any questions about this Privacy Policy, please contact us
          at our email address provided in the Contact section.
        </p>
      </div>

      <!-- Contact Section -->
      <div id="contact-section" class="contact-section">
        <h2 class="content-heading">Contact Us</h2>
        <p class="content-text">
          We value your feedback and are here to address any questions or
          concerns you may have about VoiceBridge.
        </p>
        <div class="mb-6">
          <h3 class="text-lg font-semibold mb-2">Email</h3>
          <p class="mb-4">contact@voicebridge-app.com</p>

          <h3 class="text-lg font-semibold mb-2">Social Media</h3>
          <div class="flex gap-4 mb-4">
            <a
              href="https://www.facebook.com/profile.php?id=100010812571636"
              target="_blank"
              class="text-blue-800 hover:text-blue-900"
            >
              <i class="fab fa-facebook-f fa-lg"></i>
            </a>
            <a
              href="https://www.instagram.com/_surajzmandal/"
              target="_blank"
              class="text-pink-600 hover:text-pink-700"
            >
              <i class="fab fa-instagram fa-lg"></i>
            </a>
            <a
              href="https://github.com/SurajMandal14"
              target="_blank"
              class="text-gray-800 hover:text-black"
            >
              <i class="fab fa-github fa-lg"></i>
            </a>
          </div>

          <h3 class="text-lg font-semibold mb-2">Location</h3>
          <p>Janakpurdham, Nepal</p>
        </div>

        <h3 class="text-lg font-semibold mb-2">Send us a message</h3>
        <form class="space-y-4" id="contactForm">
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700"
              >Name</label
            >
            <input
              type="text"
              id="name"
              name="name"
              required
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700"
              >Email</label
            >
            <input
              type="email"
              id="email"
              name="email"
              required
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          <div>
            <label for="message" class="block text-sm font-medium text-gray-700"
              >Message</label
            >
            <textarea
              id="message"
              name="message"
              rows="4"
              required
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
            ></textarea>
          </div>
          <div>
            <button
              type="submit"
              class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            >
              Send Message
            </button>
          </div>
        </form>
      </div>

      <!-- Footer with copyright -->
      <div class="footer" data-aos="fade-up">
        <div class="mb-4 flex justify-center space-x-4">
          <a href="#app" class="text-gray-600 hover:text-gray-900"
            >Translator</a
          >
          <a href="#about" class="text-gray-600 hover:text-gray-900">About</a>
          <a href="#privacy" class="text-gray-600 hover:text-gray-900"
            >Privacy Policy</a
          >
          <a href="#contact" class="text-gray-600 hover:text-gray-900"
            >Contact</a
          >
        </div>
        <div class="text-center">
          <a href="mailto:mandalsuraj048@gmail.com" class="email-link mb-2">
            <i class="fas fa-envelope"></i> mandalsuraj048@gmail.com
          </a>
        </div>
        &copy; 2024 VoiceBridge | Built by Suraj Mandal
      </div>
    </div>

    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
      // Initialize AOS animations
      document.addEventListener("DOMContentLoaded", function () {
        AOS.init({
          duration: 800,
          once: false,
          mirror: true,
        });
      });

      // DOM Elements
      const micButton = document.getElementById("micButton");
      const playButton = document.getElementById("playButton");
      const transcriptionText = document.getElementById("transcriptionText");
      const translationText = document.getElementById("translationText");
      const errorText = document.getElementById("errorText");
      const recordingIndicator = document.getElementById("recordingIndicator");
      const translatingIndicator = document.getElementById(
        "translatingIndicator"
      );
      const historyContainer = document.getElementById("historyContainer");
      const sourceLanguage = document.getElementById("sourceLanguage");
      const targetLanguage = document.getElementById("targetLanguage");
      const languageModal = document.getElementById("languageModal");
      const closeModal = document.getElementById("closeModal");
      const languageOptions = document.querySelectorAll(".language-option");
      const viewHistoryButton = document.getElementById("viewHistoryButton");
      const historyModal = document.getElementById("historyModal");
      const closeHistoryModal = document.getElementById("closeHistoryModal");
      const clearHistoryButton = document.getElementById("clearHistoryButton");
      const fullHistoryContainer = document.getElementById(
        "fullHistoryContainer"
      );

      // State variables
      let isRecording = false;
      let isTranslating = false;
      let currentLanguageSelector = null;
      let recognition = null;
      let currentTranscription = "";
      let currentTranslation = "";
      let isPushToTalk = true; // Enable push-to-talk mode by default
      let translationHistory = []; // Array to store all translations

      // Language codes mapping for different APIs
      const languageCodes = {
        // Speech Recognition codes (BCP 47)
        speech: {
          Telugu: "te-IN",
          Hindi: "hi-IN",
          English: "en-US",
          Tamil: "ta-IN",
          Kannada: "kn-IN",
          French: "fr-FR",
          Spanish: "es-ES",
          German: "de-DE",
          Japanese: "ja-JP",
          Chinese: "zh-CN",
        },
        // Translation API codes
        translation: {
          Telugu: "te",
          Hindi: "hi",
          English: "en",
          Tamil: "ta",
          Kannada: "kn",
          French: "fr",
          Spanish: "es",
          German: "de",
          Japanese: "ja",
          Chinese: "zh-CN",
        },
      };

      // Initialize Speech Recognition
      function initSpeechRecognition() {
        if (
          "webkitSpeechRecognition" in window ||
          "SpeechRecognition" in window
        ) {
          recognition = new (window.SpeechRecognition ||
            window.webkitSpeechRecognition)();
          recognition.continuous = true;
          recognition.interimResults = true;

          // Set language based on source language selection
          recognition.lang =
            languageCodes.speech[sourceLanguage.textContent.trim()] || "te-IN";

          recognition.onstart = () => {
            isRecording = true;
            micButton.classList.add("recording");
            micButton.classList.add("pulse-animation");
            recordingIndicator.classList.remove("hidden");
            recordingIndicator.classList.add("flex");
            transcriptionText.textContent = "Listening...";
            translationText.classList.add("hidden");
            errorText.classList.add("hidden");
          };

          recognition.onresult = (event) => {
            let interimTranscript = "";
            let finalTranscript = "";

            for (let i = event.resultIndex; i < event.results.length; i++) {
              const transcript = event.results[i][0].transcript;
              if (event.results[i].isFinal) {
                finalTranscript += transcript;
              } else {
                interimTranscript += transcript;
              }
            }

            if (finalTranscript) {
              currentTranscription = finalTranscript;
              transcriptionText.textContent = finalTranscript;

              // After getting final transcript, translate it
              translateText(finalTranscript);
            } else if (interimTranscript) {
              transcriptionText.textContent = interimTranscript;
            }
          };

          recognition.onerror = (event) => {
            console.error("Speech recognition error", event.error);

            // Show error message based on the type of error
            if (event.error === "no-speech") {
              showError("No speech detected. Please try again.");
            } else if (event.error === "audio-capture") {
              showError(
                "Microphone not found. Please check your microphone settings."
              );
            } else if (event.error === "not-allowed") {
              showError(
                "Microphone access denied. Please allow microphone access."
              );
            } else {
              showError("Speech recognition error. Please try again.");
            }

            stopRecording();
          };

          recognition.onend = () => {
            // Only stop if not in push-to-talk mode or if explicitly stopped
            if (!isPushToTalk || !isRecording) {
              stopRecording();
            }
          };
        } else {
          showError(
            "Speech recognition is not supported in your browser. Please try Chrome or Edge."
          );
          micButton.classList.add("disabled");
          micButton.disabled = true;
        }
      }

      // Show error message
      function showError(message) {
        errorText.textContent = message;
        errorText.classList.remove("hidden");
      }

      // Start recording
      function startRecording() {
        if (recognition) {
          try {
            recognition.start();
          } catch (error) {
            console.error("Recognition start error:", error);
            // If already started, stop it and start again
            if (error.name === "InvalidStateError") {
              recognition.stop();
              setTimeout(() => {
                recognition.start();
              }, 100);
            }
          }
        } else {
          initSpeechRecognition();
          setTimeout(() => {
            if (recognition) recognition.start();
          }, 100);
        }
      }

      // Stop recording
      function stopRecording() {
        if (recognition) {
          try {
            recognition.stop();
          } catch (error) {
            console.error("Recognition stop error:", error);
          }
        }

        isRecording = false;
        micButton.classList.remove("recording");
        micButton.classList.remove("pulse-animation");
        recordingIndicator.classList.add("hidden");
        recordingIndicator.classList.remove("flex");
      }

      // Push-to-talk handlers
      function setupPushToTalk() {
        // For traditional mouse events
        micButton.addEventListener("mousedown", onPushStart);
        document.addEventListener("mouseup", onPushEnd);

        // For touch events (mobile devices)
        micButton.addEventListener("touchstart", onPushStart);
        document.addEventListener("touchend", onPushEnd);

        // Add event to handle case when mouse/touch leaves the button while still pressed
        micButton.addEventListener("mouseleave", onPushLeave);
        document.addEventListener("touchcancel", onPushEnd);

        // Prevent context menu on long press (mobile)
        micButton.addEventListener("contextmenu", (e) => {
          e.preventDefault();
          return false;
        });
      }

      function onPushStart(e) {
        e.preventDefault();
        if (micButton.classList.contains("disabled") || !isPushToTalk) return;

        startRecording();
      }

      function onPushEnd(e) {
        if (!isPushToTalk || !isRecording) return;

        // Check if the event is related to the mic button
        if (e.type === "touchend") {
          // For touch events, we need to stop recording regardless
          stopRecording();
        } else if (e.type === "mouseup") {
          // For mouse events, we stop recording
          stopRecording();
        }
      }

      function onPushLeave(e) {
        // If mouse leaves button while still pressed, stop recording
        if (isPushToTalk && isRecording && e.type === "mouseleave") {
          stopRecording();
        }
      }

      // Translate text using a translation API
      async function translateText(text) {
        if (!text || text.trim() === "") {
          return;
        }

        isTranslating = true;
        translatingIndicator.classList.remove("hidden");
        translatingIndicator.classList.add("flex");

        const sourceLang = sourceLanguage.textContent.trim();
        const targetLang = targetLanguage.textContent.trim();

        console.log(
          `Starting translation from ${sourceLang} to ${targetLang}: "${text}"`
        );

        try {
          // Get language codes for the API
          const sourceCode = languageCodes.translation[sourceLang] || "te";
          const targetCode = languageCodes.translation[targetLang] || "hi";

          // Show that we're translating
          errorText.classList.add("hidden");

          // ===============================================================
          // OPTION 1: Google Translate API via RapidAPI (Free tier available)
          // Sign up at RapidAPI.com and get a free API key with limited usage
          // ===============================================================

          try {
            // For production, replace "YOUR_RAPIDAPI_KEY" with your actual key
            const rapidApiKey = "YOUR_RAPIDAPI_KEY";

            // Don't make the API call if no key is provided
            if (rapidApiKey !== "YOUR_RAPIDAPI_KEY") {
              const response = await fetch(
                `https://google-translate1.p.rapidapi.com/language/translate/v2`,
                {
                  method: "POST",
                  headers: {
                    "content-type": "application/x-www-form-urlencoded",
                    "Accept-Encoding": "application/gzip",
                    "X-RapidAPI-Key": rapidApiKey,
                    "X-RapidAPI-Host": "google-translate1.p.rapidapi.com",
                  },
                  body: new URLSearchParams({
                    q: text,
                    source: sourceCode,
                    target: targetCode,
                  }),
                }
              );

              if (response.ok) {
                const data = await response.json();
                if (
                  data &&
                  data.data &&
                  data.data.translations &&
                  data.data.translations.length > 0
                ) {
                  const translatedText =
                    data.data.translations[0].translatedText;

                  // Update UI with translation
                  currentTranslation = translatedText;
                  translationText.textContent = translatedText;
                  translationText.classList.remove("hidden");

                  // Enable play button
                  playButton.classList.remove("disabled");
                  playButton.disabled = false;

                  // Add to history
                  addToHistory(text, translatedText, sourceLang, targetLang);

                  return; // Exit early if API call was successful
                }
              }
            }

            // If we get here, the API call failed or wasn't attempted, fall through to the next method
          } catch (apiError) {
            console.error("RapidAPI translation error:", apiError);
            // Fall through to next option if this fails
          }

          // ===============================================================
          // OPTION 2: LibreTranslate API (Open Source & Free)
          // ===============================================================

          try {
            // Use a more reliable LibreTranslate instance
            const libreTranslateUrl =
              "https://translate.argosopentech.com/translate";
            // Note: Some instances may require an API key or have rate limits

            const response = await fetch(libreTranslateUrl, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                q: text,
                source: sourceCode,
                target: targetCode,
              }),
            });

            if (response.ok) {
              const data = await response.json();
              if (data && data.translatedText) {
                const translatedText = data.translatedText;

                // Update UI with translation
                currentTranslation = translatedText;
                translationText.textContent = translatedText;
                translationText.classList.remove("hidden");

                // Enable play button
                playButton.classList.remove("disabled");
                playButton.disabled = false;

                // Add to history
                addToHistory(text, translatedText, sourceLang, targetLang);

                return; // Exit early if API call was successful
              }
            }

            // If we get here, the API call failed, fall through to the next method
          } catch (libreError) {
            console.error("LibreTranslate error:", libreError);
            // Fall through to next option if this fails
          }

          // ===============================================================
          // OPTION 3: MyMemory Translation API (Free for limited usage)
          // ===============================================================

          try {
            // MyMemory has a generous free tier (100 requests/day)
            const myMemoryUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(
              text
            )}&langpair=${sourceCode}|${targetCode}`;

            console.log(
              "Attempting MyMemory translation with URL:",
              myMemoryUrl
            );

            const response = await fetch(myMemoryUrl);

            if (response.ok) {
              const data = await response.json();
              console.log("MyMemory API response:", data);

              if (
                data &&
                data.responseData &&
                data.responseData.translatedText
              ) {
                let translatedText = data.responseData.translatedText;

                // Update UI with translation
                currentTranslation = translatedText;
                translationText.textContent = translatedText;
                translationText.classList.remove("hidden");

                // Enable play button
                playButton.classList.remove("disabled");
                playButton.disabled = false;

                // Add to history
                addToHistory(text, translatedText, sourceLang, targetLang);

                return; // Exit early if API call was successful
              } else {
                console.error("MyMemory API returned unexpected format:", data);
              }
            } else {
              console.error(
                "MyMemory API response was not OK:",
                response.status,
                response.statusText
              );
            }

            // If we get here, the API call failed, fall through to fallback
          } catch (myMemoryError) {
            console.error("MyMemory translation error:", myMemoryError);
            // Fall through to fallback option
          }

          // ===============================================================
          // FALLBACK: If all API calls fail, use our fallback system
          // ===============================================================

          console.log("All API calls failed, using fallback translation");

          // Simulate API call delay
          await new Promise((resolve) => setTimeout(resolve, 500));

          // Use our fallback translation system
          let translatedText = "";

          // Basic phrase detection for demo purposes (simplistic approach)
          const lowerText = text.toLowerCase();

          if (targetLang === "Hindi") {
            if (
              lowerText.includes("hello") ||
              lowerText.includes("hi") ||
              lowerText.includes("hey")
            ) {
              translatedText = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á";
            } else if (lowerText.includes("how are you")) {
              translatedText = "‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§π‡•à‡§Ç?";
            } else if (
              lowerText.includes("eat") ||
              lowerText.includes("ate") ||
              lowerText.includes("food")
            ) {
              translatedText = "‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§®‡•á ‡§ñ‡§æ‡§®‡§æ ‡§ñ‡§æ‡§Ø‡§æ?";
            } else if (lowerText.includes("name")) {
              translatedText = "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?";
            } else if (lowerText.includes("thank")) {
              translatedText = "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶";
            } else if (lowerText.includes("welcome")) {
              translatedText = "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à";
            } else if (lowerText.includes("good morning")) {
              translatedText = "‡§∏‡•Å‡§™‡•ç‡§∞‡§≠‡§æ‡§§";
            } else if (lowerText.includes("good night")) {
              translatedText = "‡§∂‡•Å‡§≠ ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø";
            } else if (lowerText.includes("sorry")) {
              translatedText = "‡§Æ‡§æ‡§´‡§º ‡§ï‡•Ä‡§ú‡§ø‡§Ø‡•á";
            } else if (lowerText.includes("yes")) {
              translatedText = "‡§π‡§æ‡§Ç";
            } else if (lowerText.includes("no")) {
              translatedText = "‡§®‡§π‡•Ä‡§Ç";
            } else if (lowerText.includes("water")) {
              translatedText = "‡§™‡§æ‡§®‡•Ä";
            } else if (lowerText.includes("work")) {
              translatedText = "‡§ï‡§æ‡§Æ";
            } else if (lowerText.includes("today")) {
              translatedText = "‡§Ü‡§ú";
            } else if (lowerText.includes("tomorrow")) {
              translatedText = "‡§ï‡§≤";
            } else if (lowerText.includes("yesterday")) {
              translatedText = "‡§ï‡§≤";
            } else {
              // Use the text hash to create a slightly randomized translation for unknown phrases
              const inputHash = hashString(text);
              const variants = [
                "‡§Æ‡•Å‡§ù‡•á ‡§∏‡§Æ‡§ù ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§Ø‡§æ, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç",
                `${text} ‡§ï‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶`,
                `‡§Ø‡§π ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡§ø‡§§ ‡§µ‡§æ‡§ï‡•ç‡§Ø ‡§π‡•à`,
                `‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ${inputHash % 10} ‡§¨‡§ú‡•á ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?`,
                `‡§Æ‡•à‡§Ç ${sourceLang} ‡§∏‡•á ${targetLang} ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç`,
              ];
              translatedText = variants[inputHash % variants.length];
            }
          } else if (targetLang === "Telugu") {
            if (
              lowerText.includes("hello") ||
              lowerText.includes("hi") ||
              lowerText.includes("hey")
            ) {
              translatedText = "‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç";
            } else if (lowerText.includes("how are you")) {
              translatedText = "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å?";
            } else if (
              lowerText.includes("eat") ||
              lowerText.includes("ate") ||
              lowerText.includes("food")
            ) {
              translatedText = "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞§‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞∞‡∞æ?";
            } else if (lowerText.includes("name")) {
              translatedText = "‡∞Æ‡±Ä ‡∞™‡±á‡∞∞‡±Å ‡∞è‡∞Æ‡∞ø‡∞ü‡∞ø?";
            } else {
              // Fallback for Telugu
              translatedText = `‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å‡∞≤‡±ã: ${text}`;
            }
          } else if (targetLang === "English") {
            if (
              lowerText.includes("‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç") ||
              lowerText.includes("‡§®‡§Æ‡§∏‡•ç‡§§‡•á")
            ) {
              translatedText = "Hello";
            } else if (
              lowerText.includes("‡∞é‡∞≤‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å") ||
              lowerText.includes("‡§ï‡•à‡§∏‡•á ‡§π‡•à‡§Ç")
            ) {
              translatedText = "How are you?";
            } else {
              // Simple fallback for English - just echo back
              translatedText = text;
            }
          } else {
            // For other languages, create a placeholder that changes based on the input
            translatedText = `[${targetLang} translation of: ${text}]`;
          }

          // Update UI with translation
          currentTranslation = translatedText;
          translationText.textContent = translatedText;
          translationText.classList.remove("hidden");

          // Enable play button
          playButton.classList.remove("disabled");
          playButton.disabled = false;

          // Add to history
          addToHistory(text, translatedText, sourceLang, targetLang);
        } catch (error) {
          console.error("Translation error:", error);
          showError(
            "Translation error: " + (error.message || "Failed to fetch")
          );

          // Even if there's an error, show something to the user
          currentTranslation = `[Translation failed, but here's the text you said: ${text}]`;
          translationText.textContent = currentTranslation;
          translationText.classList.remove("hidden");

          // Enable play button
          playButton.classList.remove("disabled");
          playButton.disabled = false;
        } finally {
          isTranslating = false;
          translatingIndicator.classList.add("hidden");
          translatingIndicator.classList.remove("flex");
        }
      }

      // Helper function to create a simple hash of a string
      function hashString(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
          hash = (hash << 5) - hash + str.charCodeAt(i);
          hash |= 0;
        }
        return Math.abs(hash);
      }

      // Play translated text using speech synthesis
      function playTranslation() {
        if (!currentTranslation || playButton.disabled) {
          return;
        }

        if ("speechSynthesis" in window) {
          // Cancel any ongoing speech
          window.speechSynthesis.cancel();

          const utterance = new SpeechSynthesisUtterance(currentTranslation);
          const targetLang = targetLanguage.textContent.trim();
          utterance.lang = languageCodes.speech[targetLang] || "hi-IN";

          // Adjust voice settings
          utterance.volume = 1;
          utterance.rate = 1;
          utterance.pitch = 1;

          // Find a voice that matches the target language
          const voices = window.speechSynthesis.getVoices();
          const targetCode = languageCodes.speech[targetLang].split("-")[0];

          // Look for voices that match our target language
          const matchingVoice = voices.find((voice) =>
            voice.lang.startsWith(targetCode)
          );
          if (matchingVoice) {
            utterance.voice = matchingVoice;
          }

          // Disable play button while speaking
          playButton.disabled = true;
          playButton.classList.add("disabled");

          utterance.onend = () => {
            // Re-enable play button when done
            playButton.disabled = false;
            playButton.classList.remove("disabled");
          };

          // Handle errors
          utterance.onerror = (event) => {
            console.error("Speech synthesis error:", event);
            showError("Failed to play audio. Please try again.");
            playButton.disabled = false;
            playButton.classList.remove("disabled");
          };

          window.speechSynthesis.speak(utterance);
        } else {
          showError("Text-to-speech is not supported in your browser.");
        }
      }

      // Add translation to history
      function addToHistory(original, translation, fromLang, toLang) {
        const timestamp = new Date();
        const historyEntry = {
          original,
          translation,
          fromLang,
          toLang,
          timestamp: timestamp.toISOString(),
        };

        // Add to memory array
        translationHistory.unshift(historyEntry);

        // Save to local storage
        saveHistoryToLocalStorage();

        // Create UI element
        const historyItem = createHistoryItemElement(historyEntry);
        historyContainer.prepend(historyItem);

        // Limit visible history items
        if (historyContainer.children.length > 5) {
          historyContainer.removeChild(historyContainer.lastChild);
        }
      }

      // Create history item element
      function createHistoryItemElement(historyEntry) {
        const { original, translation, fromLang, toLang, timestamp } =
          historyEntry;
        const date = new Date(timestamp);

        const historyItem = document.createElement("div");
        historyItem.className = "history-item";
        historyItem.innerHTML = `
          <div class="flex justify-between mb-2">
            <span class="text-sm font-semibold text-gray-500">${fromLang} ‚Üí ${toLang}</span>
            <span class="text-xs text-gray-400">${date.toLocaleTimeString()}</span>
          </div>
          <p class="mb-2 text-gray-700">${original}</p>
          <p class="text-gray-900 font-medium">${translation}</p>
          <button class="mt-2 text-blue-500 text-sm play-history-btn">
            <i class="fas fa-volume-up mr-1"></i> Play
          </button>
        `;

        // Add event listener to play button in history item
        const playBtn = historyItem.querySelector(".play-history-btn");
        playBtn.addEventListener("click", () => {
          // Set as current translation and play it
          currentTranslation = translation;
          playTranslation();
        });

        return historyItem;
      }

      // Save history to local storage
      function saveHistoryToLocalStorage() {
        // Limit saved history to prevent excessive storage usage
        const historyToSave = translationHistory.slice(0, 100);
        localStorage.setItem(
          "voiceBridgeHistory",
          JSON.stringify(historyToSave)
        );
      }

      // Load history from local storage
      function loadHistoryFromLocalStorage() {
        const savedHistory = localStorage.getItem("voiceBridgeHistory");
        if (savedHistory) {
          try {
            translationHistory = JSON.parse(savedHistory);

            // Add a few recent items to the main page
            const recentItems = translationHistory.slice(0, 5);
            historyContainer.innerHTML = "";
            recentItems.forEach((entry) => {
              const historyItem = createHistoryItemElement(entry);
              historyContainer.appendChild(historyItem);
            });
          } catch (error) {
            console.error("Error loading history from local storage:", error);
          }
        }
      }

      // Display full history in modal
      function displayFullHistory() {
        fullHistoryContainer.innerHTML = "";

        if (translationHistory.length === 0) {
          fullHistoryContainer.innerHTML = `
            <p class="text-center text-gray-500 py-10">No translation history found.</p>
          `;
          return;
        }

        // Group history items by date
        const groupedHistory = groupHistoryByDate(translationHistory);

        // Create elements for each date group
        Object.keys(groupedHistory).forEach((date) => {
          const dateGroup = document.createElement("div");
          dateGroup.className = "history-date-group";

          // Add date header
          const dateHeader = document.createElement("div");
          dateHeader.className = "history-date-label";
          dateHeader.textContent = date;
          dateGroup.appendChild(dateHeader);

          // Add history items for this date
          groupedHistory[date].forEach((entry) => {
            const historyItem = createHistoryItemElement(entry);
            dateGroup.appendChild(historyItem);
          });

          fullHistoryContainer.appendChild(dateGroup);
        });
      }

      // Group history items by date
      function groupHistoryByDate(history) {
        const grouped = {};

        history.forEach((entry) => {
          const date = new Date(entry.timestamp);
          const dateString = date.toLocaleDateString();

          if (!grouped[dateString]) {
            grouped[dateString] = [];
          }

          grouped[dateString].push(entry);
        });

        return grouped;
      }

      // Clear all history
      function clearAllHistory() {
        if (
          confirm("Are you sure you want to clear all translation history?")
        ) {
          translationHistory = [];
          localStorage.removeItem("voiceBridgeHistory");
          historyContainer.innerHTML = "";
          displayFullHistory(); // Refresh the history modal
        }
      }

      // Handle language selection
      function showLanguageModal(selector) {
        currentLanguageSelector = selector;
        languageModal.classList.remove("hidden");
      }

      // Initialize speech synthesis voices
      function initVoices() {
        if ("speechSynthesis" in window) {
          // Chrome needs this on page load to populate voices
          window.speechSynthesis.getVoices();

          // Chrome fires this event when voices are ready
          if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = function () {
              console.log(
                "Voices loaded:",
                window.speechSynthesis.getVoices().length
              );
            };
          }
        }
      }

      // Event Listeners for push-to-talk
      setupPushToTalk();

      // Add event listener for click as a fallback, but don't use for push-to-talk
      micButton.addEventListener("click", (e) => {
        // This is used for toggle mode only, not for push-to-talk
        e.preventDefault();
        e.stopPropagation();

        // Prevent normal click behavior in push-to-talk mode
        if (isPushToTalk) return;

        if (micButton.classList.contains("disabled")) return;

        if (!isRecording) {
          startRecording();
        } else {
          stopRecording();
        }
      });

      playButton.addEventListener("click", playTranslation);

      sourceLanguage.addEventListener("click", () => {
        showLanguageModal(sourceLanguage);
      });

      targetLanguage.addEventListener("click", () => {
        showLanguageModal(targetLanguage);
      });

      closeModal.addEventListener("click", () => {
        languageModal.classList.add("hidden");
      });

      languageOptions.forEach((option) => {
        option.addEventListener("click", () => {
          if (currentLanguageSelector) {
            currentLanguageSelector.textContent = option.textContent;

            // Update recognition language if source language changed
            if (currentLanguageSelector === sourceLanguage && recognition) {
              recognition.lang =
                languageCodes.speech[option.textContent.trim()] || "te-IN";
            }
          }
          languageModal.classList.add("hidden");
        });
      });

      // Close modal when clicking outside
      languageModal.addEventListener("click", (e) => {
        if (e.target === languageModal) {
          languageModal.classList.add("hidden");
        }
      });

      // History modal event listeners
      viewHistoryButton.addEventListener("click", () => {
        displayFullHistory();
        historyModal.classList.remove("hidden");
      });

      closeHistoryModal.addEventListener("click", () => {
        historyModal.classList.add("hidden");
      });

      clearHistoryButton.addEventListener("click", clearAllHistory);

      // Close history modal when clicking outside
      historyModal.addEventListener("click", (e) => {
        if (e.target === historyModal) {
          historyModal.classList.add("hidden");
        }
      });

      // Check for browser support and initialize
      window.addEventListener("DOMContentLoaded", () => {
        // Initialize speech recognition
        initSpeechRecognition();

        // Initialize speech synthesis voices
        initVoices();

        // Load history from local storage
        loadHistoryFromLocalStorage();

        // If no history was loaded, add sample items
        if (translationHistory.length === 0) {
          // Current timestamp for sample data
          const now = new Date();

          // Add sample history items with timestamps
          const sampleHistory = [
            {
              original: "‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç, ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å?",
              translation: "‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§π‡•à‡§Ç?",
              fromLang: "Telugu",
              toLang: "Hindi",
              timestamp: new Date(now - 5 * 60000).toISOString(), // 5 minutes ago
            },
            {
              original: "‡∞®‡±á‡∞®‡±Å ‡∞≠‡∞æ‡∞∞‡∞§‡∞¶‡±á‡∞∂‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡∞æ‡∞≤‡∞®‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å",
              translation: "‡§Æ‡•à‡§Ç ‡§≠‡§æ‡§∞‡§§ ‡§ú‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Å",
              fromLang: "Telugu",
              toLang: "Hindi",
              timestamp: new Date(now - 10 * 60000).toISOString(), // 10 minutes ago
            },
          ];

          // Add sample items to history array
          translationHistory = sampleHistory;

          // Save to local storage
          saveHistoryToLocalStorage();

          // Add to UI
          historyContainer.innerHTML = "";
          sampleHistory.forEach((entry) => {
            const historyItem = createHistoryItemElement(entry);
            historyContainer.appendChild(historyItem);
          });
        }

        // Check if it's a touch device
        const isTouchDevice =
          "ontouchstart" in window || navigator.maxTouchPoints > 0;
        if (isTouchDevice) {
          document.querySelector(".push-to-talk-hint").textContent =
            "Press and hold to speak";
        }

        // Update copyright year
        const currentYear = new Date().getFullYear();
        const footerEl = document.querySelector(".footer");
        if (footerEl) {
          footerEl.innerHTML = `&copy; ${currentYear} VoiceBridge | Built by Suraj Mandal`;
        }
      });

      // Request microphone permissions early
      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        navigator.mediaDevices
          .getUserMedia({ audio: true })
          .then(function (stream) {
            // Permission granted, stop tracks (we just needed permission)
            stream.getTracks().forEach((track) => track.stop());
          })
          .catch(function (err) {
            console.error("Microphone access denied:", err);
            showError(
              "Microphone access denied. Please allow microphone access in your browser settings."
            );
            micButton.classList.add("disabled");
          });
      }

      // Handle visibility change to prevent resource usage when tab is not visible
      document.addEventListener("visibilitychange", () => {
        if (document.hidden && isRecording) {
          stopRecording();
        }
      });

      // Handle navigation
      document.addEventListener("DOMContentLoaded", function () {
        const navLinks = document.querySelectorAll(".nav-link");
        const sections = document.querySelectorAll(
          ".app-section, .about-section, .privacy-section, .contact-section"
        );
        const footerLinks = document.querySelectorAll(".footer a");

        function showSection(sectionId) {
          // Hide all sections
          sections.forEach((section) => {
            section.classList.remove("visible-section");
          });

          // Show the selected section
          const targetSection = document.getElementById(sectionId);
          targetSection.classList.add("visible-section");

          // Refresh animations in the section
          AOS.refresh();

          // Smooth scroll to the specific section
          const yOffset = -60; // Adjust this value as needed for offset
          const targetPosition =
            targetSection.getBoundingClientRect().top +
            window.pageYOffset +
            yOffset;

          window.scrollTo({
            top: targetPosition,
            behavior: "smooth",
          });

          // Update active nav link
          navLinks.forEach((link) => {
            if (link.getAttribute("data-section") === sectionId) {
              link.classList.add("active");
            } else {
              link.classList.remove("active");
            }
          });
        }

        // Add click event listeners to nav links
        navLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const sectionId = this.getAttribute("data-section");
            showSection(sectionId);
            window.history.pushState(null, "", this.getAttribute("href"));
          });
        });

        // Add click event listeners to footer links
        footerLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const href = this.getAttribute("href");
            const sectionId = href.replace("#", "") + "-section";
            showSection(sectionId);
            window.history.pushState(null, "", href);
          });
        });

        // Handle direct navigation via URL hash
        function handleHashChange() {
          const hash = window.location.hash || "#app";
          const sectionId = hash.replace("#", "") + "-section";
          showSection(sectionId);
        }

        window.addEventListener("hashchange", handleHashChange);

        // Initial load
        handleHashChange();

        // Handle contact form submission
        const contactForm = document.getElementById("contactForm");
        if (contactForm) {
          contactForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const message = document.getElementById("message").value;

            // Create mailto link with form data
            const mailtoLink = `mailto:mandalsuraj048@gmail.com?subject=VoiceBridge Contact from ${name}&body=${encodeURIComponent(
              "Name: " + name + "\nEmail: " + email + "\n\nMessage:\n" + message
            )}`;

            // Open default email client
            window.location.href = mailtoLink;

            // Optional: Reset form after submission
            contactForm.reset();
          });
        }
      });
    </script>

    <!-- Additional script for robots.txt verification -->
    <script>
      // This creates a virtual robots.txt for search engines
      if (window.location.pathname === "/robots.txt") {
        document.documentElement.innerHTML = `
          User-agent: *
          Allow: /
          Sitemap: https://live-translation-app.vercel.app/sitemap.xml
        `;
        document.contentType = "text/plain";
      }
    </script>
  </body>
</html>
